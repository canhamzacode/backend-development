# ğŸ“˜ Authentication System - Personal Backend Journal

This project is a complete **authentication system** built with **Express.js** and **TypeScript**, part of my backend development learning journey. It demonstrates secure authentication, role-based access control, and password reset flows.

---

### ğŸš€ Project Purpose

The main goals of this project are to:

- Understand and implement **user authentication** with JWT tokens.
- Learn how to handle **role-based access control (RBAC)** for route protection.
- Implement **secure password storage** using `bcrypt`.
- Build a **password reset system** with token verification.
- Apply **rate limiting** to prevent brute force attacks.
- Practice **Express middleware**, request validation with **Zod**, and error handling.

---

### âœ… Features

- User registration and login
- JWT access and refresh token generation
- Role-based access control for protected routes
- Password reset flow (request reset + submit new password)
- Logout endpoint that invalidates refresh tokens
- Rate limiting for login, registration, and password reset endpoints
- Centralized validation and authentication middlewares
- Admin-only dashboard route example

---

### ğŸ§  What Iâ€™ve Learned So Far

- âœ… Setting up a **secure authentication system** from scratch
- âœ… Using `bcrypt` for password hashing
- âœ… Generating and verifying **JWT tokens**
- âœ… Refresh token flow for longer sessions
- âœ… Protecting routes using authentication and **role-based authorization**
- âœ… Validating request data using **Zod schemas**
- âœ… Implementing **rate limiting** to improve security
- âœ… Handling password reset with temporary codes
- âœ… Structuring a backend project with controllers, routes, and middlewares

---

### ğŸ› ï¸ Tech Stack

- Node.js
- Express.js
- TypeScript
- Zod â€“ Schema validation
- JWT â€“ Authentication tokens
- Bcrypt â€“ Password hashing
- Postmark â€“ Email sending for password reset
- Express-rate-limit â€“ Security
- Drizzle ORM â€“ Database modeling
- Neon (Postgres serverless)
- Winston â€“ Logging
- TSX / ts-node â€“ For running TypeScript

---

### ğŸ“‚ File Structure

```bash
.
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ controllers/
â”‚   â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ middlewares/
â”‚   â”œâ”€â”€ db/
â”‚   â”œâ”€â”€ utils/
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ .env.example
â””â”€â”€ README.md
```

---

### ğŸ› ï¸ Running the Project

1. Install dependencies:

   ```bash
   npm install
   ```

2. Copy `.env.example` to `.env` and fill in the required values:
   - `DATABASE_URL` â€“ Neon/Postgres connection string
   - `JWT_SECRET` â€“ Secret for signing JWT tokens
   - `POSTMARK_SERVER_TOKEN` â€“ Postmark API token
   - `POSTMARK_FROM_EMAIL` â€“ Verified sender email
   - `APP_URL` â€“ Base URL for password reset links

3. Push migrations and generate schema with Drizzle:

   ```bash
   npm run db:push
   npm run db:generate
   ```

4. Start the development server:

   ```bash
   npm run dev
   ```

5. Test the endpoints using Postman or any API client.

---

### ğŸ“… Timeline

Started: `August 13, 2025`
Current Status: `Complete authentication system with role-based access and password reset flow`
